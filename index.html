<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Gemini 2.0 Image Generator</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">
  <div class="bg-white p-8 rounded-2xl shadow-xl w-full max-w-lg text-center">
    <h1 class="text-2xl font-bold mb-4">ğŸ¨ Gemini 2.0 Image Generator</h1>
    <input id="prompt" type="text" placeholder="Describe your image..." class="w-full p-3 border border-gray-300 rounded-xl mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500"/>
    <button onclick="generateImage()" class="bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-xl">
      Generate Image
    </button>

    <div id="loading" class="hidden mt-4 text-blue-500 font-medium">Generating...</div>
    <div id="result" class="mt-6"></div>
  </div>

  <script>
    async function generateImage() {
      const prompt = document.getElementById("prompt").value;
      const loading = document.getElementById("loading");
      const resultDiv = document.getElementById("result");

      if (!prompt.trim()) return alert("Please enter a prompt!");

      resultDiv.innerHTML = "";
      loading.classList.remove("hidden");

      try {
        const res = await fetch(
          "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-preview-image-generation:generateContent?key=AIzaSyDdS6Djy4akybiUahN29seSf56jPNl-I-4
",
          {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({
              contents: [
                {
                  parts: [{ text: prompt }],
                },
              ],
              responseModalities: ["TEXT", "IMAGE"],
            }),
          }
        );

        const data = await res.json();
        loading.classList.add("hidden");

        const image = data.candidates?.[0]?.content?.parts?.find(part => part.inlineData)?.inlineData?.data;
        if (image) {
          const imgElement = document.createElement("img");
          imgElement.src = "data:image/png;base64," + image;
          imgElement.alt = "Generated image";
          imgElement.className = "w-full rounded-xl mt-4 shadow-md";
          resultDiv.appendChild(imgElement);
        } else {
          resultDiv.textContent = "âš ï¸ No image generated. Try again.";
        }
      } catch (err) {
        loading.classList.add("hidden");
        resultDiv.textContent = "âŒ Error generating image. Check your API key or network.";
        console.error(err);
      }
    }
  </script>
</body>
</html>
